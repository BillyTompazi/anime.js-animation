<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>

    <button id="cta">Click me</button>

    <svg viewBox="0 0 214 100" >
        <polygon class="polymorph" points="214,100 0,100 0,0 22,0 214,0 "/>
    </svg>

    <div id="blip">
        <h1>Well, that was revealing..</h1>
        <p>Isn't this cool? Here's a little more text to fill this space out a bit more.</p>

        <button id="cta2">Go back</button>
    </div>

    <script src="./anime.min.js"></script>

    <script>

        var btn = document.getElementById('cta');
        var btn2 = document.getElementById('cta2');

        btn.onclick = function () {
           var morphing = anime({
        targets: '.polymorph',
        points: [
            { value: '214,100 0,100 0,0 22,0 64,69'},
            { value: '214,100 0,100 0,0 0,0 64,69'}
      
        ],
        easing: 'easeOutQuad',
        duration: 1200,
        loop: false
        });

        anime({
            targets: '#blip',
            opacity: 1,
            duration: 800,
            translateY: 150
        })

        
        var promise = morphing.finished.then(() => {

            btn2.onclick = function () {
            var morphing = anime({
                targets: '.polymorph',
                points: [
                    { value: '214,100 0,100 0,0 22,0 64,69'},
                    { value: '214,100 0,100 0,0 22,0 214,0'}
      
                ],
                easing: 'easeOutQuad',
                duration: 1200,
                loop: false
            });

                anime({
                targets: '#blip',
                opacity: 0,
                duration: 3000,
                translateY: -800
            })
        };
        })

        }

        
    </script>
</body>
</html>